{"name":"Update All NPCs","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/dice-target.svg","scope":"global","command":"for (const _actor of game.actors) {\n  if (!_actor) { continue }\n  if (_actor.data.type !== 'NPC') { continue }\n  _actor.update({\n    \"token.displayName\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER,\n    \"token.bar1\": {\n      attribute: \"attributes.hp\"\n    },\n    \"token.bar2\": {\n      attribute: \"attributes.ac.value\"\n    },\n    \"token.displayBars\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER\n  })\n}\n\nfor (const _scene of game.scenes) {\n  for (const _token of _scene.tokens) {\n    if (!_token) { continue }\n    _token.update({\n      \"displayName\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER,\n      \"bar1\": {\n        attribute: \"attributes.hp\"\n      },\n      \"bar2\": {\n        attribute: \"attributes.ac.value\"\n      },\n      \"displayBars\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER\n    })\n  }\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.hPlsB7m7V2F9HGuz"},"combat-utility-belt":{"macroTrigger":""}},"_id":"1jt3zIka7EIsVAdv"}
{"name":"Setup NPC Token","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/stoned.svg","scope":"global","command":"if (actor && token) { \n  game.dcc.getMacroActor()\n  token.document.update({\n    \"displayName\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER,\n    \"img\": actor.img,\n    \"bar1\": {\n      attribute: \"attributes.hp\"\n    },\n    \"bar2\": {\n      attribute: \"attributes.ac.value\"\n    },\n    \"displayBars\": CONST.TOKEN_DISPLAY_MODES.OWNER_HOVER\n  })\n} else {\n \n ui.notifications.warn(game.i18n.localize(\"DCC.MacroNoTokenSelected\"))\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.gcZNHJLJHwfFgDBJ"},"combat-utility-belt":{"macroTrigger":""}},"_id":"ErepavP4zvGhUfz5"}
{"name":"Update All Players","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/dice-target.svg","scope":"global","command":"for (const _actor of game.actors) {\n  if (!_actor) { continue }\n  if (_actor.data.type !== 'Player') { continue }\n  _actor.update({\n    \"token.name\": _actor.data.name,\n    \"token.displayName\": CONST.TOKEN_DISPLAY_MODES.HOVER,\n    \"token.img\": _actor.data.img,\n    \"token.bar1\": {\n      attribute: \"attributes.hp\"\n    },\n    \"token.bar2\": {\n      attribute: \"attributes.ac.value\"\n    },\n    \"token.displayBars\": CONST.TOKEN_DISPLAY_MODES.ALWAYS,\n    \"token.vision\": true,\n    \"token.actorLink\": true\n  })\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.zj9e4K1GnzvVr6N7"}},"_id":"KRmTTJ41ty9y59lG"}
{"name":"Lightsource: None","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/blind.svg","scope":"global","command":"if (token) { \n  token.document.update({\n    dimSight: 5,\n    light: {\n      dim: 0,\n      bright: 0,\n      animation: {\n        speed: 1,\n        intensity: 1,\n        type: ''\n      }\n    }\n  })\n} else {\n \n ui.notifications.warn(game.i18n.localize(\"DCC.MacroNoTokenSelected\"))\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.plZe7KH6AVX0Tb6t"},"combat-utility-belt":{"macroTrigger":""}},"_id":"SgejUhYm0XnDi1pR"}
{"name":"Lightsource: Torch","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/fire.svg","scope":"global","command":"if (token) { \n  token.document.update({\n    light: {\n      dim: 35,\n      bright: 25,\n      animation: {\n        speed: 1,\n        intensity: 1,\n        type: 'torch'\n      },\n      color: '#9c6d0c',\n      alpha: 0.1\n    }\n  })\n} else {\n \n ui.notifications.warn(game.i18n.localize(\"DCC.MacroNoTokenSelected\"))\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.plZe7KH6AVX0Tb6t"},"combat-utility-belt":{"macroTrigger":""}},"_id":"suQHOcQm4VsRimLC"}
{"name":"Setup Player Token","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/aura.svg","scope":"global","command":"if (actor && token) { \n  token.document.update({\n    \"name\": actor.data.name,\n    \"displayName\": CONST.TOKEN_DISPLAY_MODES.HOVER,\n    \"img\": actor.data.img,\n    \"bar1\": {\n      attribute: \"attributes.hp\"\n    },\n    \"bar2\": {\n      attribute: \"attributes.ac.value\"\n    },\n    \"displayBars\": CONST.TOKEN_DISPLAY_MODES.ALWAYS,\n    \"vision\": true,\n    \"actorLink\": true\n  })\n} else {\n \n ui.notifications.warn(game.i18n.localize(\"DCC.MacroNoTokenSelected\"))\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.t5crrNVau7wgKpIT"},"combat-utility-belt":{"macroTrigger":""}},"_id":"tBbROhmHJ02EVjVN"}
{"name":"Lightsource: Candle","type":"script","author":"QljWNZW91EoRV9gI","img":"icons/svg/obelisk.svg","scope":"global","command":"if (token) {\n  token.document.update({\n    light: {\n      dim: 20,\n      bright: 5,\n      animation: {\n        speed: 1,\n        intensity: 1,\n        type: 'torch'\n      },\n      color: '#9c6d0c',\n      alpha: 0.1\n    }\n  })\n} else {\n \n ui.notifications.warn(game.i18n.localize(\"DCC.MacroNoTokenSelected\"))\n}","folder":null,"sort":0,"permission":{"default":0,"P51jlrrEqhAFF2kz":3,"QljWNZW91EoRV9gI":3},"flags":{"core":{"sourceId":"Macro.plZe7KH6AVX0Tb6t"},"combat-utility-belt":{"macroTrigger":""}},"_id":"uKW2QX3xi6bExvFc"}
